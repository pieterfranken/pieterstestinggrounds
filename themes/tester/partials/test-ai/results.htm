{% if test_result == 'success' %}
    <div class="alert alert-success">
        <h6><i class="bi bi-check-circle me-2"></i>{{ test_message }}</h6>
        
        <h6 class="mt-3">Generated Content:</h6>
        <div class="bg-light p-3 rounded">
            <pre>{{ test_content }}</pre>
        </div>
        
        {% if test_raw %}
            <details class="mt-3">
                <summary>Raw API Response</summary>
                <div class="bg-dark text-light p-3 rounded mt-2">
                    <pre>{{ test_raw }}</pre>
                </div>
            </details>
        {% endif %}
    </div>
{% else %}
    <div class="alert alert-danger">
        <h6><i class="bi bi-exclamation-triangle me-2"></i>{{ test_message }}</h6>
        
        {% if test_content %}
            <h6 class="mt-3">Error Details:</h6>
            <div class="bg-light p-3 rounded">
                <pre>{{ test_content }}</pre>
            </div>
        {% endif %}
        
        <h6 class="mt-3">Troubleshooting:</h6>
        <ul>
            <li>Check your Groq API key in .env file</li>
            <li>Verify internet connection</li>
            <li>Check if you've exceeded the daily limit (100 requests/day)</li>
            <li>Try again in a few minutes</li>
        </ul>
    </div>
{% endif %}
